---
description: 
globs: 
alwaysApply: false
---
# Cursor Rules Creation Guide - GuÃ­a de CreaciÃ³n de Reglas Cursor

## ðŸ“‹ Formato Moderno .mdc (2025)

Los cursor rules modernos utilizan el formato **MDC** (Markdown Configuration) que combina:
- **YAML frontmatter** para metadatos
- **Contenido Markdown** para la documentaciÃ³n

### ðŸ—ï¸ Estructura BÃ¡sica

```markdown
---
description: DescripciÃ³n clara y concisa de la regla en una lÃ­nea
globs: ["pattern1/**/*.ext", "pattern2/**/*.ext"]  # Array de patrones de archivos
alwaysApply: false  # true | false
---

# TÃ­tulo de la Regla

Contenido en markdown explicando la regla...
```

## ðŸŽ¯ Tipos de Cursor Rules (4 Tipos Principales)

### 1. **Always Rules** (Siempre Aplicadas)
```yaml
---
description: Regla que siempre se aplica en todo el proyecto
globs: ["**/*"]  # PatrÃ³n amplio ya que siempre se aplica
alwaysApply: true
---
```
- **CuÃ¡ndo usar**: EstÃ¡ndares globales, convenciones de cÃ³digo, reglas fundamentales
- **Ventaja**: Siempre en contexto
- **Desventaja**: Puede sobrecargar el contexto

### 2. **Auto Attached Rules** (Auto-adjuntadas por PatrÃ³n)
```yaml
---
description: Regla especÃ­fica para archivos TypeScript React
globs: ["**/*.tsx", "**/*.ts"]
alwaysApply: false
---
```
- **CuÃ¡ndo usar**: Reglas especÃ­ficas para tipos de archivos o directorios
- **Ventaja**: Solo se activa cuando es relevante
- **Comportamiento**: Se incluye automÃ¡ticamente cuando trabajas con archivos que coinciden con los globs

### 3. **Agent Requested Rules** (Solicitadas por IA)
```yaml
---
description: Reglas para optimizaciÃ³n de performance en React
globs: []  # VacÃ­o porque el agente decide cuÃ¡ndo usarla
alwaysApply: false
---
```
- **CuÃ¡ndo usar**: Reglas especializadas que el AI puede elegir segÃºn contexto
- **Ventaja**: El AI decide dinÃ¡micamente si es relevante
- **Comportamiento**: La IA lee la description y decide si incluir la regla

### 4. **Manual Rules** (Solo Manuales)
```yaml
---
description: ""  # VacÃ­o para reglas manuales
globs: []        # VacÃ­o para reglas manuales  
alwaysApply: false
---
```
- **CuÃ¡ndo usar**: Templates, macros, reglas muy especÃ­ficas
- **ActivaciÃ³n**: Solo con `@nombre-regla` en el chat
- **Ventaja**: Control total sobre cuÃ¡ndo se usa

## ðŸ“ UbicaciÃ³n y OrganizaciÃ³n

### Estructura de Directorios
```
.cursor/
â”œâ”€â”€ rules/
â”‚   â”œâ”€â”€ core/                    # Reglas fundamentales
â”‚   â”‚   â”œâ”€â”€ 001-project-standards.mdc
â”‚   â”‚   â””â”€â”€ 002-code-style.mdc
â”‚   â”œâ”€â”€ language/                # Reglas por lenguaje
â”‚   â”‚   â”œâ”€â”€ typescript.mdc
â”‚   â”‚   â”œâ”€â”€ python.mdc
â”‚   â”‚   â””â”€â”€ sql.mdc
â”‚   â”œâ”€â”€ framework/               # Reglas por framework
â”‚   â”‚   â”œâ”€â”€ fastapi.mdc
â”‚   â”‚   â”œâ”€â”€ react.mdc
â”‚   â”‚   â””â”€â”€ postgresql.mdc
â”‚   â””â”€â”€ patterns/                # Patrones especÃ­ficos
â”‚       â”œâ”€â”€ api-endpoints.mdc
â”‚       â””â”€â”€ database-queries.mdc
```

### Convenciones de Nombres
- **Prefijo numÃ©rico**: `001-`, `002-` para orden de precedencia
- **CategorÃ­as**: `core-`, `lang-`, `fw-`, `pattern-`
- **Descriptivo**: `api-get-endpoints-pattern.mdc`
- **Sin espacios**: Usar guiones `-` en lugar de espacios

## ðŸŽ¨ Mejores PrÃ¡cticas

### âœ… **Estructura del Contenido**

```markdown
# TÃ­tulo Claro y EspecÃ­fico

## DescripciÃ³n General
PÃ¡rrafo explicando el propÃ³sito de la regla.

## ðŸŽ¯ CuÃ¡ndo Aplicar
- Escenario 1
- Escenario 2
- Escenario 3

## ðŸ“‹ Reglas EspecÃ­ficas
1. **Regla 1**: DescripciÃ³n clara y accionable
2. **Regla 2**: Con ejemplos concretos
3. **Regla 3**: Medible y verificable

## âœ… Ejemplos Correctos
```javascript
// Ejemplo de cÃ³digo correcto
function ejemplo() {
    return "correcto";
}
```

## âŒ Ejemplos Incorrectos
```javascript
// Ejemplo de lo que NO hacer
function mal_ejemplo() {
    return "incorrecto"
}
```

## ðŸ”§ ImplementaciÃ³n
Pasos especÃ­ficos para implementar la regla.

## ðŸŽ¯ Checklist de ValidaciÃ³n
- [ ] Criterio 1 cumplido
- [ ] Criterio 2 cumplido
- [ ] Criterio 3 cumplido
```

### âœ… **Globs Patterns Efectivos**

```yaml
# EspecÃ­ficos por extensiÃ³n
globs: ["**/*.py", "**/*.pyi"]

# Por directorio
globs: ["app/modules/**/routes/**/*.py"]

# MÃºltiples patrones
globs: [
  "**/*.ts", 
  "**/*.tsx", 
  "**/*.js", 
  "**/*.jsx"
]

# Exclusiones (no soportado directamente, usar description)
# Para excluir, mencionarlo en la description
```

### âœ… **Descriptions Efectivas**

```yaml
# âœ… Buenas descriptions
description: "EstÃ¡ndares de cÃ³digo Python usando Black formatter y type hints"
description: "PatrÃ³n para endpoints FastAPI con paginaciÃ³n y filtros dinÃ¡micos"
description: "Reglas de React Hooks y mejores prÃ¡cticas de componentes funcionales"

# âŒ Malas descriptions  
description: "Reglas generales"
description: "CÃ³digo Python"
description: "React"
```

## ðŸš€ Templates por Tipo de Regla

### Template 1: Always Rule (EstÃ¡ndares Globales)
```markdown
---
description: EstÃ¡ndares globales de cÃ³digo y arquitectura del proyecto
globs: ["**/*"]
alwaysApply: true
---

# EstÃ¡ndares Globales del Proyecto

## ðŸŽ¯ Principios Fundamentales
- Principio 1
- Principio 2

## ðŸ“‹ Convenciones Obligatorias
1. **Naming**: Convenciones de nombres
2. **Structure**: Estructura de archivos
3. **Comments**: DocumentaciÃ³n

## ðŸš« Prohibiciones Estrictas
- No hacer X
- Evitar Y
- Nunca Z
```

### Template 2: Auto Attached Rule (Por Tipo de Archivo)
```markdown
---
description: Reglas especÃ­ficas para archivos [TIPO] en [CONTEXTO]
globs: ["**/*.[EXT]", "**/[DIR]/**/*.[EXT]"]
alwaysApply: false
---

# Reglas para [TIPO DE ARCHIVO]

## ðŸŽ¯ Aplicabilidad
Esta regla se aplica automÃ¡ticamente a:
- Archivos [tipo]
- En directorio [contexto]

## ðŸ“‹ EstÃ¡ndares EspecÃ­ficos
1. **Estructura**: CÃ³mo organizar el archivo
2. **Imports**: Orden y organizaciÃ³n de imports
3. **Exports**: QuÃ© y cÃ³mo exportar

## âœ… Ejemplo Correcto
```[language]
// CÃ³digo ejemplo siguiendo las reglas
```

## âŒ Ejemplo Incorrecto
```[language]
// CÃ³digo ejemplo violando las reglas
```
```

### Template 3: Agent Requested Rule (Especializada)
```markdown
---
description: Reglas especializadas para [CASO_USO_ESPECÃFICO] que el agente puede solicitar segÃºn contexto
globs: []
alwaysApply: false
---

# [NOMBRE DE LA REGLA ESPECIALIZADA]

## ðŸŽ¯ CuÃ¡ndo el Agente Debe Solicitar Esta Regla
- Cuando detecte [patrÃ³n 1]
- Si el usuario menciona [concepto 2]
- En contexto de [situaciÃ³n 3]

## ðŸ“‹ Reglas Especializadas
Reglas muy especÃ­ficas para casos particulares...

## ðŸ”§ ImplementaciÃ³n Detallada
Pasos especÃ­ficos con ejemplos de cÃ³digo...
```

### Template 4: Manual Rule (Template/Macro)
```markdown
---
description: ""
globs: []
alwaysApply: false
---

# [NOMBRE DEL TEMPLATE]

## ðŸŽ¯ Uso
Esta regla se invoca manualmente con `@nombre-regla` para:
- Generar [tipo de cÃ³digo]
- Crear [tipo de estructura]
- Aplicar [patrÃ³n especÃ­fico]

## ðŸ“‹ Template/Macro Content
Contenido completo del template o macro...

## ðŸ”§ ParÃ¡metros Personalizables
- {placeholder1}: DescripciÃ³n
- {placeholder2}: DescripciÃ³n
```

## âš¡ Ejemplos Reales de Cursor Rules

### Ejemplo 1: Always Rule para EstÃ¡ndares Python
```markdown
---
description: EstÃ¡ndares de cÃ³digo Python con Black, type hints, y convenciones de naming
globs: ["**/*.py"]
alwaysApply: true
---

# Python Code Standards

## ðŸŽ¯ Formatting
- Usar **Black** formatter (lÃ­nea 88 caracteres)
- Imports organizados con **isort**
- **Type hints** obligatorios en funciones pÃºblicas

## ðŸ“‹ Naming Conventions
- Variables: `snake_case`
- Funciones: `snake_case`
- Clases: `PascalCase`
- Constantes: `UPPER_SNAKE_CASE`

## âœ… Ejemplo Correcto
```python
from typing import Optional

def calculate_total_price(items: list[dict], discount: Optional[float] = None) -> float:
    """Calculate total price with optional discount."""
    total = sum(item["price"] for item in items)
    return total * (1 - discount) if discount else total
```
```

### Ejemplo 2: Auto Attached para FastAPI
```markdown
---
description: Patrones y mejores prÃ¡cticas para endpoints FastAPI con validaciÃ³n, paginaciÃ³n y documentaciÃ³n
globs: ["**/routes/**/*.py", "**/presentation/**/*.py"]
alwaysApply: false
---

# FastAPI Endpoints Best Practices

## ðŸŽ¯ Estructura de Controladores
```python
from typing import Annotated
from fastapi import APIRouter, Depends, Query
from mediatr import Mediator

class EntityV2Controller:
    def __init__(self, mediator: Mediator):
        self.mediator = mediator
        self.router = APIRouter()
        self._add_routes()

    def _add_routes(self) -> None:
        self.router.get("/entity")(self.get_entities)

    async def get_entities(
        self, query_params: Annotated[QueryModel, Query()]
    ) -> ResponseModel:
        return await self.mediator.send_async(query_params)
```

## ðŸ“‹ Query Parameters EstÃ¡ndar
- `page_index: int = Query(ge=1)`
- `page_size: int = Query(ge=1, le=100)`
- `order_by: Literal[...]`
- `sort_by: Literal["ASC", "DESC"]`
```

## ðŸ”§ Comandos de GestiÃ³n de Rules

### Crear Nueva Regla
```bash
# Desde Cursor
Cmd/Ctrl + Shift + P -> "New Cursor Rule"
```

### Verificar Reglas Activas
```bash
# En Cursor Settings > Rules
# Ver todas las reglas del proyecto y su estado
```

### Referenciar Regla Manualmente
```markdown
En chat: @nombre-regla
```

## ðŸŽ¯ Checklist para Nuevas Cursor Rules

### âœ… Antes de Crear
- [ ] Â¿La regla es especÃ­fica y accionable?
- [ ] Â¿El scope estÃ¡ bien definido con globs?
- [ ] Â¿El tipo de regla (Always/Auto/Agent/Manual) es correcto?
- [ ] Â¿La description es clara y especÃ­fica?

### âœ… Contenido de la Regla  
- [ ] TÃ­tulo claro y descriptivo
- [ ] SecciÃ³n "CuÃ¡ndo aplicar" bien definida
- [ ] Reglas especÃ­ficas, no vagas
- [ ] Ejemplos de cÃ³digo correcto e incorrecto
- [ ] Checklist de validaciÃ³n
- [ ] ImplementaciÃ³n paso a paso si es compleja

### âœ… DespuÃ©s de Crear
- [ ] Testear que se active correctamente
- [ ] Verificar que el AI la interpreta bien
- [ ] Documentar en el README del proyecto si es relevante
- [ ] Revisar si hay conflictos con otras reglas

## ðŸš« Errores Comunes a Evitar

### âŒ **Reglas Demasiado Vagas**
```yaml
# MAL
description: "Reglas generales de cÃ³digo"

# BIEN  
description: "EstÃ¡ndares TypeScript con interfaces explÃ­citas y error handling"
```

### âŒ **Globs Incorrectos**
```yaml
# MAL
globs: "*.py"  # String en lugar de array

# BIEN
globs: ["**/*.py"]  # Array con patrÃ³n correcto
```

### âŒ **AlwaysApply Mal Usado**
```yaml
# MAL - Regla muy especÃ­fica como Always
description: "Reglas especÃ­ficas de React Hooks"
alwaysApply: true

# BIEN - Como Auto Attached
description: "Reglas especÃ­ficas de React Hooks"
globs: ["**/*.tsx", "**/*.jsx"]
alwaysApply: false
```

### âŒ **Contenido No Accionable**
```markdown
# MAL
## Reglas
- Escribe buen cÃ³digo
- SÃ© consistente

# BIEN  
## Reglas
- Funciones mÃ¡ximo 30 lÃ­neas
- Usar TypeScript strict mode
- Nombrar variables en camelCase
```

## ðŸ’¡ Tips Avanzados

### ðŸŽ¯ **Precedencia de Reglas**
- Usar prefijos numÃ©ricos: `001-`, `002-` para orden
- Rules con nÃºmeros mÃ¡s altos tienen precedencia
- Always rules siempre se incluyen primero

### ðŸŽ¯ **OrganizaciÃ³n por Equipo**
```
.cursor/rules/
â”œâ”€â”€ core/           # EstÃ¡ndares del equipo (Always)
â”œâ”€â”€ frontend/       # Reglas React/Vue (Auto Attached)  
â”œâ”€â”€ backend/        # Reglas FastAPI/Django (Auto Attached)
â”œâ”€â”€ database/       # Reglas SQL/PostgreSQL (Auto Attached)
â””â”€â”€ templates/      # Macros y templates (Manual)
```

### ðŸŽ¯ **Testing de Rules**
- Crear archivos de prueba que coincidan con los globs
- Verificar en Cursor Settings > Rules que aparecen
- Testear con prompts especÃ­ficos
- Usar diferentes tipos de archivos para validar

## ðŸŽ‰ Resultado Esperado

Con estas guidelines, los cursor rules serÃ¡n:
- âœ… **Consistentes** en estructura y formato
- âœ… **EspecÃ­ficos** y accionables  
- âœ… **Bien organizados** por tipo y propÃ³sito
- âœ… **Efectivos** para el AI y el equipo
- âœ… **Mantenibles** y escalables

Â¡Ahora tienes todo el contexto para crear cursor rules profesionales y efectivos! ðŸš€

